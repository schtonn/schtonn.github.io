<!DOCTYPE html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>化学</title>
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700
&family=Noto+Serif+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .well {
            padding: 10px;
            border: 1px solid rgb(173, 173, 173);
            background-color: #f5f5f5;
            margin-top: 5px;
            min-height: 160px;
            border-radius: 5px;
            width: 100%;
            overflow-x: auto;
            overflow-y: auto;
            transition-duration: 500ms;
        }

        pre {
            overflow-x: auto;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .btn-default:focus,
        .btn-default:focus-visible,
        .btn-default:focus-within,
        .btn-default:active:focus {
            outline: none;
        }

        .btn.disabled {
            cursor: default;
            pointer-events: none;
            z-index: 0;
        }

        .text-muted a {
            color: rgb(173, 173, 173);
        }

        a {
            transition-duration: 300ms;
        }

        /* 
        a:hover {
            box-shadow: inset 1px 1px 6px rgba(59, 86, 100, 0.3);
        } */

        .label {
            padding: .2em .4em .2em;
            font-family: 'Courier New';
            display: inline-block;
            transform: translateY(-2px);
            cursor: pointer;
            transition-duration: 100ms;
        }

        .label:hover {
            box-shadow: 1px 2px 4px 1px rgba(0, 0, 0, 0.15);
            transform: translateY(-3px);
        }

        .label.label-sub:not(:hover) {
            font-size: 10px;
            opacity: 0.5;
        }

        .MathJax {
            color: midnightblue;
        }

        .result {
            color: slategrey;
            border-bottom: 1px solid;
            border-image: linear-gradient(to right, transparent, rgba(143, 65, 233, 0.5), #578aef, transparent) 1;
        }

        .result:hover {
            background-color: rgba(159, 186, 200, 0.1);
        }

        .glyphicon-share-alt {
            transform: rotateX(180deg);
        }

        .btn:not(.btn-xs) {
            height: 34px;
        }

        .add {
            margin-top: -1px;
        }

        .add:not(:last-child)>:is(span, input) {
            border-radius: 0;
        }

        .add>:is(span, input, textarea) {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        .ion {
            margin-left: 5px;
            margin-right: 5px;
        }

        .ion:hover {
            background-color: #ddd;
        }

        .frame:not(.active)::-webkit-scrollbar {
            width: 5px;
        }

        .frame:not(.active)::-webkit-scrollbar-track {
            background-color: transparent;
        }

        .frame:not(.active)::-webkit-scrollbar-thumb {
            background-color: transparent;
            border-radius: 2px;
        }

        .frame:not(.active):hover::-webkit-scrollbar-thumb {
            background-color: #bbb;
        }


        .frame:not(.active) {
            max-height: 60px;
            min-height: 60px;
            box-shadow: 0 -10px 10px -5px rgba(0, 0, 0, 0.15) inset;
            width: 80%;
            cursor: pointer;
        }

        .frame:not(.active):hover {
            max-height: 160px;
            width: 100%;
            box-shadow: 0 -10px 10px -5px rgba(0, 0, 0, 0.05) inset;
        }

        .has:has(.active) {
            background-color: #eef7d3;
        }

        .has>span {
            display: block;
            width: 100%;
            font-size: 16px;
            transition-duration: 300ms;
            cursor: pointer;
        }

        .has>span:hover {
            background-color: rgba(150, 150, 130, .1);
        }

        .has:has(.active)>span {
            font-weight: bold;
            font-size: 18px;
        }

        .label-ion {
            background-color: #4f95b3;
        }
    </style>
    <script id="MathJax-script" src="https://cdn.bootcss.com/mathjax/3.2.0/es5/tex-chtml.js"></script>
    <script src="/js/chem.js"></script>

</head>

<body>
    <div class="row">
        <div class="col-lg-2 col-md-2 col-xs-12">
            <a class="btn btn-info" href="/"><i class="glyphicon glyphicon-home" aria-hidden="true"></i>&nbsp;返回</a>
            <hr>
            <button type="button" class="btn btn-default btn-warning active" data-toggle="button" onclick="$(this).toggleClass('btn-warning');preview=!preview" id="preview" title="性能降低时关闭"><span class="glyphicon glyphicon-cog"></span> 实时渲染</button>
            <hr class="tools" style="display: none;">
            <button class="btn btn-default tools" style="display: none;" onclick="$('.tools').toggle(300);">
                <span class="glyphicon glyphicon-chevron-right"></span> 小工具
            </button>
            <hr>
            <p>小提示：<br><code>&lt;e+&gt;</code>、<code>&lt;2e-&gt;</code> 用于标注电荷，<code>.</code> 用于代替水合物等中间的点。输入 ! 快速查询并导入结果。</p>
        </div>
        <div class="col-lg-8 col-md-10 col-xs-12">
            <h2><span class="tools">化学小工具</span>
                <div class="btn-group tools" data-toggle="buttons">
                    <label class="btn btn-default active" onclick="setBal()">
                        <input type="radio"> 配平
                    </label>
                    <label class="btn btn-default" onclick="setWeigh()">
                        <input type="radio"> 相对质量
                    </label>
                </div>
                <button type="button" class="btn btn-default" style="display: none;" data-toggle="button" onclick="$(this).toggleClass('btn-info');precise=!precise;input()" id="precise"><span class="glyphicon glyphicon-cog"></span> 高精度</button>
                <a class="btn btn-default tools" href="/chemist">
                    <span class="glyphicon glyphicon-link"></span> 配平接口
                </a>
                <button class="btn btn-default btn-xs pull-right tools" onclick="$('.tools').toggle(300);">
                    <span class="glyphicon glyphicon-chevron-left"></span> 折叠
                </button>
            </h2>
            <div class="input-group tools">
                <input id="balInput" type="text" class="form-control" oninput="input()" autocomplete="off">
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" onclick="balance()" id="balBtn">配平</button>
                </span>
            </div>
            <hr class="tools">
            <div class="well frame tools">
            </div>
            <hr class="tools">
            <h2>数据库
                <div class="btn-group" data-toggle="buttons">
                    <label class="btn btn-default active" onclick="modeq='query';setQry()"><input type="radio">查询</label>
                    <label class="btn btn-default" onclick="modeq='add';setQry()"><input type="radio">上传</label>
                    <label class="btn btn-default" onclick="modeq='upd';setQry()"><input type="radio">修改</label>
                </div>
                <div class="qry-group btn-group" data-toggle="buttons">
                    <label class="btn btn-default active" onclick="nameq='eq';setQry()"><input type="radio">化学式</label>
                    <label class="btn btn-default" onclick="nameq='mo';setQry()"><input type="radio">分子</label>
                    <label class="btn btn-default" onclick="nameq='io';setQry()"><input type="radio">离子</label>
                    <label class="btn btn-default" onclick="nameq='el';setQry()"><input type="radio">元素</label>
                </div>
                <button type="button" class="btn btn-default op op-query-eq" style="display: none;" data-toggle="button" onclick="$(this).toggleClass('btn-info');strict=!strict;toggl('查询 <span class=\'glyphicon glyphicon-search\'></span>', strict);input()" id="strict"><span class="glyphicon glyphicon-cog"></span> 限制等号左右</button>
                <button type="button" class="btn btn-default op op-query-eq" style="display: none;" data-toggle="button" onclick="$(this).toggleClass('btn-info');qryToggleMatch()" id="qryMatch"><span class="glyphicon glyphicon-cog"></span> 匹配分子</button>
                <button type="button" class="btn btn-default op op-query-mo" style="display: none;" data-toggle="button" onclick="$(this).toggleClass('btn-info');qryToggleMatch()" id="qryIon"><span class="glyphicon glyphicon-cog"></span> 查找离子</button>
            </h2>
            <div class="input-group">
                <input style="border-bottom-left-radius: 0;" id="qryInput" type="text" class="form-control qryInput" autocomplete="off" oninput="input2()">
                <span class="input-group-addon qryInputHidable" style="display:none">=</span>
                <input id="qryInput2" type="text" class="form-control qryInput qryInputHidable" style="display:none" autocomplete="off" oninput="input2()">
                <span class="input-group-btn">
                    <button style="border-bottom-right-radius: 0;" type="button" class="btn btn-default" onclick="query()" id="qryBtn">查询</button>
                </span>
            </div>
            <div>
                <span class="input-group add upd-eq upd-mo" id="addId"><span class="input-group-addon">id</span>
                    <input type="text" class="form-control" id="addIdText" oninput="inputId()" autocomplete="off" placeholder="输入 id">
                </span>
                <span class="input-group add add-eq">
                    <span class="input-group-addon">反应条件</span>
                    <input id="addCondition" type="text" class="form-control" autocomplete="off" placeholder="加热;高温;点燃;通电;光照;MnO2">
                </span>
                <span class="input-group add add-mo add-io">
                    <span class="input-group-addon">中文名</span>
                    <input id="addTitle" type="text" class="form-control" autocomplete="off">
                </span>
                <span class="input-group add add-mo">
                    <span class="input-group-addon">化合价</span>
                    <span class="form-control" id="pclass" style="color:#999">...</span>
                    <span class="input-group" id="class">
                    </span>
                </span>
                <span class="input-group add add-mo">
                    <span class="input-group-addon">离子</span>
                    <span class="form-control ionList">...</span>
                    <span class="input-group-btn"><button class="btn btn-default" onclick="getIons();if($('.ionList').text()=='...')$('.ionList').text('查看下方‘离子’页！');$(this).children('span').addClass('glyphicon-chevron-down')"><span class="glyphicon glyphicon-plus"></span></button></span>
                </span>
                <span class="input-group add add-eq add-mo">
                    <span class="input-group-addon">描述</span>
                    <textarea id="addDescription" type="text" class="form-control" autocomplete="off" style="resize:vertical"></textarea>
                </span>
            </div>
            <pre class="ok op op-query-eq op-query-mo op-query-io op-query-el" style="font-family: Chalkduster,Consolas;top: -1px;position: relative;border-top-left-radius: 0;border-top-right-radius: 0;"></pre>
            <hr>
            <div class="has">
                <span onclick="nameq='eq';setQry()">化学式</span>
                <div class="well frame active">
                    <span id="qryInputRender"></span>
                </div>
            </div>
            <div class="has">
                <span onclick="nameq='mo';setQry()">分子</span>
                <div class="well frame">
                    <span id="qryInputRender-mo">...</span>
                </div>
            </div>
            <div class="has">
                <span onclick="nameq='io';setQry()">离子</span>
                <div class="well frame">
                    <span id="qryInputRender-io">...</span>
                </div>
            </div>
            <div class="has">
                <span onclick="nameq='el';setQry()">元素</span>
                <div class="well frame">
                    <span id="qryInputRender-el">...</span>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-md-12 col-xs-12">
            <img class="img-responsive" src="2.png">
        </div>
    </div>
</body>