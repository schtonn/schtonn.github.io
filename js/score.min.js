var s="",a=0;function ce(e,t){return(e=Math.round(e*10**t)/10**t).toFixed(t)}var pe,datSe,curSe,o,me=0,ue=0,n={},he={},Se={};function prevFile(){ue=(ue-1+me)%me,S()}function nextFile(){ue=(ue+1)%me,S()}function fe(){$(".chart").hide(300),$("#fileOutput").html(""),$("#name").html("")}function getFiles(e){n[me]=e.target.files[0],ue=me,me++,$("#controls").removeClass("disabled"),$("#lbtn").removeClass("disabled"),$("#rbtn").removeClass("disabled"),S(1)}document.onkeydown=function(e){var t=e||window.event||arguments.callee.caller.arguments[0];t&&("ArrowLeft"==t.key?prevFile():"ArrowRight"==t.key&&nextFile())};const t=CryptoJS.enc.Utf8.parse("abcdefgabcdefg12");function $e(e){e=CryptoJS.lib.CipherParams.create({ciphertext:CryptoJS.enc.Hex.parse(e)});return CryptoJS.AES.decrypt(e,t,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8)}function l(e){return CryptoJS.AES.encrypt(e,t,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).ciphertext.toString()}function r(t){d(t).then(function(){var e=l('{"meId":'+$("#Id").val()+',"seIds":"'+s+'","schoolId":19707,"studentId":"'+t+'"}');return fetch("/analysis/api/student/exam/getStudentReportMEVO",{method:"POST",headers:{"Content-type":"application/json"},body:e})}).then(e=>e.text()).then(e=>{n[me]=new Blob([e],{type:"text/plain"}),ue=me,me++,$("#controls").removeClass("disabled"),$("#lbtn").removeClass("disabled"),$("#rbtn").removeClass("disabled"),S(1)})}function i(t){for(let e=1;e<t.length;e++)s&&(s+=","),s+=t[e].seId.toString()}function d(e){e=l('{"schoolId":19707,"studentId":"'+e+'"}');return fetch("/analysis/api/student/exam/getUserMultiExamByStudentIdAndSchoolId",{method:"POST",headers:{"Content-type":"application/json"},body:e}).then(e=>e.json()).then(e=>{var t=JSON.parse($e(e.data));let s="";for(let e=0;e<t.length;e++)s+=t[e].examName.slice(t[e].examName.length-4,t[e].examName.length-2)+" - "+t[e].meId+(e==t.length-1?"":", "),i(t[e].studentReportInfos);$("#Id").attr("placeholder",s)})}function check(){var s=prompt("验证身份\n我的数字校园号是：");fetch("/js/e.json",{method:"GET",headers:{"Content-type":"application/json"}}).then(e=>e.json()).then(e=>{var e=e.data.filter(function(e){return e.no==s}),t=e[0].o;"11班"==t.slice(t.length-3)?(pe=e[0].name,d(e[0].no),a=1,$(".fetch").toggle(1e3)):alert("no")})}function fetchMe(){if(a){let t=$("#Input").val();parseInt(t)?r(t):fetch("/js/e.json",{method:"GET",headers:{"Content-type":"application/json"}}).then(e=>e.json()).then(e=>{r(e.data.filter(function(e){return e.name==t})[0].no)})}}function imageLoaded(t){var e=$("img")[t],s=e.width/e.naturalWidth;1==s&&(s=($(".tab-content")[0].clientWidth-12)/e.naturalWidth),$(".cover"+t).empty();for(var a=0;a<datSe.displayIndexDetails.length;a++){var o=datSe.displayIndexDetails[a],n=o.eqAnswerIpxywh.split("#");for(let e=0;e<n.length;e++){var l,r=n[e].split(",");6==r.length?parseInt(r[1])-1==t&&(l=$('<span class="minus" style="transform:translate('+(r[2]*s).toFixed(6)+"px,"+(r[3]*s).toFixed(6)+'px)">'+(o.eqScore==o.eqFullScore?o.eqFullScore.toString():0==o.eqScore?(o.eqScore-o.eqFullScore).toString():o.eqScore.toString()+"/"+o.eqFullScore.toString())+"</span>").appendTo(".cover"+t),o.eqScore==o.eqFullScore?l.addClass("full"):m(l)):0==t&&(l=$('<span class="sp" style="transform:translate('+(r[1]*s).toFixed(6)+"px,"+(r[2]*s).toFixed(6)+"px);width:"+(r[3]*s).toFixed(6)+"px;height:"+(r[4]*s).toFixed(6)+'px"></span>').appendTo(".cover"+t),0==e&&o.eqFullScore!=o.eqScore&&m($('<span class="minus" style="transform:translate('+(r[1]*s-20).toFixed(6)+"px,"+(r[2]*s-5).toFixed(6)+'px)">'+(o.eqScore-o.eqFullScore).toString()+"</span>").appendTo(".cover"+t)),o.eqCorrectAnswer.match("ABCD"[e])?l.addClass("cor"):o.eqAnswer.match("ABCD"[e])&&l.addClass("err"))}}}function getSe(e,t,s){!t&&!$(".nav-tabs>li")[2].classList[0]||!s&&e==curSe&&o||(o=1,curSe=e,fontSize=14,bd=l(bd='{"schoolId":19707,"meId":'+Se[ue]+',"seId":'+e+',"studentId":"'+he[ue]+'"}'),fetch("/analysis/api/student/exam/getStuExamDetailInfo",{method:"POST",headers:{"Content-type":"application/json"},body:bd}).then(e=>e.json()).then(e=>{$("#singleDat").empty();var t=JSON.parse($e(e.data));for(let e=1;e<=t.pageCount;e++)$("#singleDat").append('<br><span class="cover'+(e-1)+'"></span><img src="'+t.examUrl+"page_"+e+'.jpg" onload="imageLoaded('+(e-1)+')">'),$("img")[e-1].style.width="100%";t.pageCount||$("#singleDat").append("<p>...</p>"),datSe=t}))}var ge=[];function c(e,t=0){return t?"第"==e[0]?"":`data-toggle="tooltip" data-placement="left" title="${e.match(/[-_]/g)?e.slice(e.split(/[-_]/g)[0].length+1):""}"`:"第"==e[0]?e.slice(1,e.length-1)+":":e.split(/[-_]/g)[0]+"."}function ye(n,e,t){!e&&!$(".nav-tabs>li")[3].classList[0]||!t&&n==curSe||(curSe=n,he[ue]||(he[ue]=prompt("数字校园号？")),Se[ue]||(Se[ue]=prompt("考试编号？（心意答点击考试标题后，切换考试的列表里可见）")),e=l(e='{"schoolId":19707,"seId":'+n+',"studentId":"'+he[ue]+'"}'),fetch("/analysis/api/student/exam/getStudentReportSEVO",{method:"POST",headers:{"Content-type":"application/json"},body:e}).then(e=>e.json()).then(e=>{e=JSON.parse($e(e.data));let t='<ul class="list-unstyled">';t=(t=(t+=`<li class="text-warning">**. <span class="sc avgSc" style="left:${e.singleExam.seAvgScore/e.singleExam.seFullScore*300}px" data-toggle="tooltip" data-placement="bottom" title="${e.singleExam.seAvgScore}">.</span>`)+`<span class="sc mySc" style="left:${ge[n]/e.singleExam.seFullScore*300}px">${ge[n]}</span>`)+`<span class="sc fullSc" style="left:${300-8.41*ge[n].toString().length}px">${e.singleExam.seFullScore}</span></li>`;var s=e.examQuestions;for(let e=0;e<s.length;e++){idc=s[e].personScore==s[e].eqFullScore?"success fullScore":'danger"';var a=c(s[e].eqDisplayName),o=8.41*a.toString().length-24;t+=`<li class="text-${idc}" ${c(s[e].eqDisplayName,1)}>${a}<span class="sc avgSc" style="left:${s[e].eqAvgScore/s[e].eqFullScore*300-o}px" data-toggle="tooltip" data-placement="bottom" title="${s[e].eqAvgScore}">.</span>`,s[e].personScore!=s[e].eqFullScore&&(t+=`<span class="sc mySc" style="left:${s[e].personScore/s[e].eqFullScore*300-o}px">${s[e].personScore}</span>`),t=(t+=`<span class="sc fullSc" style="left:${300-8.41*s[e].personScore.toString().length*(s[e].personScore!=s[e].eqFullScore)-o}px">${s[e].eqFullScore}</span>`)+`<span class="sc" style="left:${350-8.41*s[e].personScore.toString().length*(s[e].personScore!=s[e].eqFullScore)-8.41*s[e].eqFullScore.toString().length-o}px">${s[e].qstTagName}</span></li>`}$("#detailDat").html(t+"</ul>"),$("[data-toggle='tooltip']").tooltip()}))}var e,fontSize,p=[];function f(){for(let e=0;e<p.length;e++)clearInterval(p[e]);p=[]}function m(e){var t,s=0;p.push(setInterval(function(){t=100*Math.random()-50,$(e).css("transform",$(e).css("transform").split("rotate")[0]+"rotate("+(t-s)+"deg)"),s=t},600*Math.random()+300))}function be(e){return 90<=e?"success":75<=e?"info":60<=e?"warning":"danger"}function resizeChart(){clearTimeout(e),e=setTimeout(function(){if(f(),"active"==$(".nav-tabs>li")[0].classList[0])console.log("reload chart"),cc.resize(),sc1.resize(),sc2.resize(),oc1.resize(),oc2.resize(),oc3.resize(),oc4.resize(),"0px"==$("#score1>div").css("width")?$("#resizeBtn").show():$("#resizeBtn").hide(300);else if("active"==$(".nav-tabs>li")[2].classList[0]){console.log("reload image");for(let e=0;e<datSe.pageCount;e++)imageLoaded(e);$(".minus").css("font-size",fontSize)}},300)}function Ce(){return"15"}var u,h=document.createElement("a");function g(){h.href=u,h.setAttribute("download","data.txt"),h.click()}var xe=[],ve=[];const Ie=["#5bc0de","#5a7ddd","#795add","#ba5add","#dd5abf","#dd5a7d","#dd795a","#ddba5a","#bfdd5a","#7ddd5a","#5add79","#5addba","#2aa9cf","#20809d","#cf512a","#9d3d20"];function S(re=0){console.log("Start processing No. "+ue);var e=n[ue],ie=(u=window.URL.createObjectURL(e),$("#message")[0]),de='<table class="table table-responsive" style="table-layout: fixed;"><tr><td>平均分</td><td>最高分</td><td>75%</td><td>中位数</td><td>25%</td><td>最低分</td></tr>',t=(ie.innerHTML=ue+1+`/${me} - ${e.name} - ${e.size} 字节 - ${e.type} - 正在读取...<br>>`,$("#upbtn").removeClass("btn-danger"),$("#upbtn").addClass("btn-info"),$("#upicon").removeClass("glyphicon-exclamation-sign"),$("#upicon").addClass("glyphicon-open"),new FileReader);t.onload=function(e){try{var t=$("#fileOutput")[0],s=$("#fileInfo")[0],a=$("#name")[0],o=JSON.parse(e.target.result),n="",l="",r=($("#single").empty(),$("#detail").empty(),JSON.parse($e(o.data).toString())),i=(Se[ue]=r.meId.toString(),he[ue]=r.studentId,s.innerHTML=`<h3>${r.multiExam.meName}</h3>`,[]),j=[],d=r.multiExamStudentScore,c=r.multiExamClassScores,p=d.singleExamStudentScores,m=r.singleExamClassScores,u=r.singleExamClassYsScores,h=r.multiExam.singleExams,S=(i=r.seIds).length;for(let t=0;t<S;t++)for(let e=0;e<S;e++)h[t].seId==i[e]&&(j[e]=h[t].seCourseName);var f={};for(let e=0;e<S;e++)f[i[e]]=j[e];f[0]="总分";for(let e=0;e<u.length;e++)f[u[e].seId+"Ys"]=f[u[e].seId]+" "+u[e].ysClassId;var g={},W={},J={};for(let t=0;t<S;t++)for(let e=0;e<S;e++)p[e]&&p[e].seId==i[t]&&(J[t]=!0,g[e]=t);for(let e=1;e<S;e++)J[e]||(i[e]=-1);for(let e=0;e<S;e++)W[g[e]]=e;var y,b={},x={},v={},C={},I={},w={},O={},A={},q={},E={},z={},F={},H={},T={};for(let e=0;e<S;e++)p[e]&&(y=p[e].seId,ge[y]=p[e].essScore,b[y]=p[e].essScore,x[y]=m[e].secsAvgScore,v[y]=m[e].secsMinScore,C[y]=m[e].secsQuarterScore,I[y]=m[e].secsHalfScore,w[y]=m[e].secs3quatrerScore,O[y]=m[e].secsMaxScore,A[y]=h[g[e]].seFullScore,q[y]=p[e].essClassOrder,z[y]=p[e].essGradeOrder,F[y]=ce(1-(p[e].essClassOrder-1)/m[e].secsStudentCount,3),T[y]=ce(1-(p[e].essGradeOrder-1)/h[g[e]].seStudentCount,3));F[0]=ce(1-d.messClassOrder/c[0].mecsStudentCount,3),T[0]=ce(1-d.messGradeOrder/r.multiExamSchoolScore.mecsStudentCount,3),q[0]=d.messClassOrder,z[0]=d.messGradeOrder;for(let t=0;t<u.length;t++)for(let e=0;e<S;e++)p[e]&&u[t].seId==p[e].seId&&(H[u[t].seId+"Ys"]=ce(1-(p[e].essYsClassOrder-1)/u[t].secsStudentCount,3),E[u[t].seId+"Ys"]=p[e].essYsClassOrder);var D=Ce();for(let e=0;e<S;e++)if(p[L=W[e]]){$("#single").append(`<button class="btn btn-${be(ce(100*T[i[e]],1))} btn-how ${i[e]}" onclick="getSe(${i[e]});$('.btn-how').removeClass('active');$(this).addClass('active')">${f[p[L].seId]}</button>`),$("#detail").append(`<button class="btn btn-${be(ce(100*T[i[e]],1))} btn-how ${i[e]}" onclick="getSec(${i[e]});$('.btn-how').removeClass('active');$(this).addClass('active')">${f[p[L].seId]}</button>`),n+=`<h3 class='bg-${be(ce(100*T[i[e]],1))} text-${be(ce(100*T[i[e]],1))}'>${f[p[L].seId]} <small>${p[L].essScore}</small></h3><h4>${r.examStudents[0].classId} 班内 <small>${p[L].essClassOrder} / ${m[L].secsStudentCount}</small></h4>${de}<tr><td>${m[L].secsAvgScore}</td><td>${m[L].secsMaxScore}</td><td>${m[L].secs3quatrerScore}</td><td>${m[L].secsHalfScore}</td><td>${m[L].secsQuarterScore}</td><td>${m[L].secsMinScore}</td></tr></table>`,l=`，${r.examStudents[0].classId} 班 ${m[L].secsClassOrder} / `+D;for(let e=0;e<u.length;e++)u[e].seId==p[L].seId&&(n+=`<h4>${u[e].ysClassId} 层内 <small>${p[L].essYsClassOrder} / ${u[e].secsStudentCount}</small></h4>${de}<tr><td>${u[e].secsAvgScore}</td><td>${u[e].secsMaxScore}</td><td>${u[e].secs3quatrerScore}</td><td>${u[e].secsHalfScore}</td><td>${u[e].secsQuarterScore}</td><td>${u[e].secsMinScore}</td></tr></table>`,l+=`，${u[e].ysClassId} 层 ${u[e].secsClassOrder} / ?`);n+=`<h4>年级 <small>${p[L].essGradeOrder} / ${h[g[L]].seStudentCount+l}</small></h4>${de}<tr><td>${h[g[L]].seAvgScore}</td><td>${h[g[L]].seMaxScore}</td><td>${h[g[L]].se3QuarterScore}</td><td>${h[g[L]].seHalfScore}</td><td>${h[g[L]].seQuarterScore}</td><td>${h[g[L]].seMinScore}</td></tr></table>`}getSe(curSe=curSe||i[0],0,1),ye(curSe,0,1),$("#single>button."+curSe).addClass("active"),$("#detail>button."+curSe).addClass("active")}catch(e){return console.log(e),fe(),ie.innerHTML+="读取失败！",$("#upbtn").removeClass("btn-info"),$("#upbtn").addClass("btn-danger"),$("#upicon").removeClass("glyphicon-open"),void $("#upicon").addClass("glyphicon-exclamation-sign")}$("#single").append(`<button class="btn btn-default btn-how" onclick="fontSize+=3;$('.minus').css('font-size',fontSize+'px');for (let i=0;i<datSe.pageCount;i++)$('img')[i].style.width=parseInt($('img')[i].style.width)+20+'%';resizeChart()"><span class="glyphicon glyphicon-zoom-in"></span></button>`),$("#single").append(`<button class="btn btn-default btn-how" onclick="fontSize-=3;$('.minus').css('font-size',fontSize+'px');for (let i=0;i<datSe.pageCount;i++)$('img')[i].style.width=parseInt($('img')[i].style.width)-20+'%';resizeChart()"><span class="glyphicon glyphicon-zoom-out"></span></button>`),$("#single").append('<span id="singleDat" style="word-wrap: break-word; white-space: normal"></span><br><br><br>'),$("#detail").append(`<button class="btn btn-default btn-how" onclick="$('.fullScore').toggle(500)"><span class="glyphicon glyphicon-eye-close"></span></button>`),$("#detail").append('<span id="detailDat" style="word-wrap: break-word; white-space: normal"></span><br><br><br>'),re&&(e=JSON.stringify({content:pe+" fetched "+he[ue]+" ("+parseInt(r.examStudents[0].classId)+" "+d.studentName+") "+Se[ue]+' ("'+r.multiExam.meName+'")'}),fetch("/score/log",{method:"POST",headers:{"Content-type":"application/json"},body:e})),ie.innerHTML+="读取成功！<br>",a.innerHTML="姓名："+d.studentName,s.innerHTML=`<h3>${r.multiExam.meName} <small>${r.examStudents[0].classId}班 ${d.studentName}</small></h3>`,t.innerHTML=1<S?`<h3>总分 <small>${d.messScore}</small></h3><h4>${r.examStudents[0].classId} 班内 <small>${d.messClassOrder} / ${c[0].mecsStudentCount}</small></h4>${de}<tr><td>${c[0].mecsAvgScore}</td><td>${c[0].mecsMaxScore}</td><td>${c[0].mecs3quatrerScore}</td><td>${c[0].mecsHalfScore}</td><td>${c[0].mecsQuarterScore}</td><td>${c[0].mecsMinScore}</td></tr></table><h4>年级 <small>${d.messGradeOrder} / ${r.multiExamSchoolScore.mecsStudentCount}，${r.examStudents[0].classId}班 ${c[0].mecsClassOrder} / ${D}</small></h4>${de}<tr><td>${r.multiExam.meAvgScore}</td><td>${r.multiExam.meMaxScore}</td><td>${r.multiExam.me3QuatrerScore}</td><td>${r.multiExam.meHalfScore}</td><td>${r.multiExam.meQuarterScore}</td><td>${r.multiExam.meMinScore}</td></tr></table>`+n:n,$("#fileOutput table").css("display","inline-table"),$("#fileOutput table").css("margin-bottom","0px"),$(".chart").show(),cc=echarts.init($("#comp")[0]),sc1=echarts.init($("#score1")[0]),sc2=echarts.init($("#score2")[0]),oc1=echarts.init($("#order1")[0]),oc2=echarts.init($("#order2")[0]),oc3=echarts.init($("#order3")[0]),oc4=echarts.init($("#order4")[0]),me<=1?$("#comp").hide():($("#comp").show(),cc.resize());var L,M,k=[],G=[],B={},Q=[],P=[],R=[],Y=[],U=[],_=[],V=[],K=[],X=[],Z=[],ee=[],te=[],se=[],ae=[];for(let e=i[S]=0;e<S;e++)-1!=(L=i[e])&&(B[f[L]]=b[L],"总分"!=f[L].substr(0,2))&&(k.push(f[L].substr(0,2)),G.push(b[L]),Q.push(x[L]),P.push(A[L]),se.push({value:[v[L],C[L],I[L],w[L],O[L]]}),R.push(ce(b[L]/A[L]*100,1)),Y.push(ce(x[L]/A[L]*100,1)),ae.push({value:[ce(v[L]/A[L]*100,1),ce(C[L]/A[L]*100,1),ce(I[L]/A[L]*100,1),ce(w[L]/A[L]*100,1),ce(O[L]/A[L]*100,1)]}));for(let e=0;e<=S;e++)-1==(L=i[e])||"总分"==f[L].substr(0,2)&&1==S||(U.push(f[L].substr(0,2)),_.push(q[L]),V.push(z[L]),.99<=F[L]?K.push({value:ce(100*F[L],1),itemStyle:{color:new echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#f0ad4e"},{offset:.7,color:"#5bc0de"}])}}):K.push(ce(100*F[L],1)),.99<=T[L]?X.push({value:ce(100*T[L],1),itemStyle:{color:new echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#d9534f"},{offset:.7,color:"#337ab7"}])}}):X.push(ce(100*T[L],1)));for(M in E)Z.push(f[M]),ee.push(E[M]),te.push(ce(100*H[M],1));ee.length||($("#order3").hide(),$("#order4").hide()),xe[ue]=B,ve[ue]=d.studentName;var o={textStyle:{fontFamily:"Noto Serif SC"},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{saveAsImage:{show:!0},dataView:{show:!0,readOnly:!1}},orient:"vertical"},emphasis:{focus:"series"},calculable:!0},e={...o},a={...o},s={...o},t={...o},c={...o},d={...o},o={...o},N=[],oe=[],ne=[];for(let e=0;e<me;e++)for(var le in xe[e])-1==N.indexOf(le)&&N.push(le);for(let t=0;t<me;t++)if(oe.push([]),xe[t]){for(let e=0;e<N.length;e++)oe[t].push(xe[t][N[e]]);ne.push({name:ve[t],type:"line",data:oe[t],color:Ie[t]})}e.title={text:"比一比",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},e.legend={data:ve},e.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:N,name:"科目",position:"left"}],e.yAxis=[{type:"value",name:"分数",position:"left"}],e.series=ne,a.title={text:"分数",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},a.legend={data:["四分位","满分","平均分","我的分数"]},a.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:k,name:"科目",position:"left"}],a.yAxis=[{type:"value",name:"分数",position:"left"}],a.series=[{name:"四分位",type:"boxplot",data:se,color:"#5bc0de",itemStyle:{color:"transparent"}},{name:"满分",type:"scatter",data:P,color:"#b6b6b6"},{name:"平均分",type:"line",data:Q,color:"#337ab7"},{name:"我的分数",type:"line",data:G,color:"#e2041b"}],s.title={text:"得分率",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},s.legend={data:["四分位","平均得分率","我的得分率"]},s.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:k,name:"科目",position:"left"}],s.yAxis=[{type:"value",name:"得分率(%)",position:"left"}],s.series=[{name:"四分位",type:"boxplot",data:ae,color:"#5bc0de",itemStyle:{color:"transparent"}},{name:"平均得分率",type:"line",data:Y,color:"#337ab7"},{name:"我的得分率",type:"line",data:R,color:"#d9534f"}],t.title={text:"行政排名位次",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},t.legend={data:["班级排名","年级排名"]},t.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:U,name:"科目",position:"left"}],t.yAxis=[{type:"value",name:"排名",position:"left"}],t.series=[{name:"班级排名",type:"bar",data:_,color:"#5bc0de"},{name:"年级排名",type:"bar",data:V,color:"#337ab7"}],c.title={text:"行政排名比例",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},c.legend={data:["班级排名(%)","年级排名(%)"]},c.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:U,name:"科目",position:"left"}],c.yAxis=[{type:"value",name:"排名(%)",position:"left",max:100}],c.series=[{name:"班级排名(%)",type:"bar",data:K,color:"#5bc0de"},{name:"年级排名(%)",type:"bar",data:X,color:"#337ab7"}],d.title={text:"分班排名位次",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},d.legend={data:["分班排名"]},d.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:Z,name:"科目",position:"left"}],d.yAxis=[{type:"value",name:"排名",position:"left"}],d.series=[{name:"分班排名",type:"bar",data:ee,color:"#5cb85c"}],o.title={text:"分班排名比例",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},o.legend={data:["分班排名(%)"]},o.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:Z,name:"科目",position:"left"}],o.yAxis=[{type:"value",name:"排名(%)",position:"left",max:100}],o.series=[{name:"分班排名(%)",type:"bar",data:te,color:"#5cb85c"}],cc.setOption(e),sc1.setOption(a),sc2.setOption(s),oc1.setOption(t),oc2.setOption(c),oc3.setOption(d),oc4.setOption(o),window.onresize=resizeChart},t.readAsText(e)}$().ready(function(){$(".chart").hide(),$(function(){$("[data-toggle='tooltip']").tooltip()}),$("#Input").keydown(function(e){13==e.keyCode&&$("#fetchBtn")[0].click()})});