var s="";function ce(e,t){return(e=Math.round(e*10**t)/10**t).toFixed(t)}var pe,datSe,curSe,a,ue=0,me=0,n={},he={},Se={};function prevFile(){me=(me-1+ue)%ue,S()}function nextFile(){me=(me+1)%ue,S()}function fe(){$(".chart").hide(300),$("#fileOutput").html(""),$("#name").html("")}function getFiles(e){n[ue]=e.target.files[0],me=ue,ue++,$("#controls").removeClass("disabled"),$("#lbtn").removeClass("disabled"),$("#rbtn").removeClass("disabled"),S(1)}document.onkeydown=function(e){var t=e||window.event||arguments.callee.caller.arguments[0];t&&("ArrowLeft"==t.key?prevFile():"ArrowRight"==t.key&&nextFile())};const t=CryptoJS.enc.Utf8.parse("abcdefgabcdefg12");function $e(e){e=CryptoJS.lib.CipherParams.create({ciphertext:CryptoJS.enc.Hex.parse(e)});return CryptoJS.AES.decrypt(e,t,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8)}function o(e){return CryptoJS.AES.encrypt(e,t,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).ciphertext.toString()}function f(t){var s,a=new Array,n=t.length;for(let e=0;e<n;e++)65536<=(s=t.charCodeAt(e))&&s<=1114111?(a.push(s>>18&7|240),a.push(s>>12&63|128),a.push(s>>6&63|128),a.push(63&s|128)):2048<=s&&s<=65535?(a.push(s>>12&15|224),a.push(s>>6&63|128),a.push(63&s|128)):128<=s&&s<=2047?(a.push(s>>6&31|192),a.push(63&s|128)):a.push(255&s);return a}function l(t){i(t).then(function(){var e=o('{"meId":'+$("#Id").val()+',"seIds":"'+s+'","schoolId":19707,"studentId":"'+t+'"}');return fetch("http://36.112.23.77/analysis/api/student/exam/getStudentReportMEVO",{method:"POST",headers:{"Content-type":"application/json"},body:e})}).then(e=>e.text()).then(e=>{n[ue]=new Blob([e],{type:"text/plain"}),me=ue,ue++,$("#controls").removeClass("disabled"),$("#lbtn").removeClass("disabled"),$("#rbtn").removeClass("disabled"),S(1)})}function r(t){for(let e=1;e<t.length;e++)s&&(s+=","),s+=t[e].seId.toString()}function i(e){e=o('{"schoolId":19707,"studentId":"'+e+'"}');return fetch("http://36.112.23.77/analysis/api/student/exam/getUserMultiExamByStudentIdAndSchoolId",{method:"POST",headers:{"Content-type":"application/json"},body:e}).then(e=>e.json()).then(e=>{var t=JSON.parse($e(e.data));let s="";for(let e=0;e<t.length;e++)s+=t[e].examName.slice(t[e].examName.length-4,t[e].examName.length-2)+" - "+t[e].meId+(e==t.length-1?"":", "),r(t[e].studentReportInfos);$("#Id").attr("placeholder",s)})}function check(){var s=prompt("验证身份\n我的数字校园号是：");fetch("/js/e.json",{method:"GET",headers:{"Content-type":"application/json"}}).then(e=>e.json()).then(e=>{var e=e.data.filter(function(e){return e.no==s}),t=e[0].organization;"11班"==t.slice(t.length-3)?(pe=e[0].name,i(e[0].no),$(".fetch").toggle(1e3)):alert("no")})}function fetchMe(t){parseInt(t)?l(t):fetch("/js/e.json",{method:"GET",headers:{"Content-type":"application/json"}}).then(e=>e.json()).then(e=>{l(e.data.filter(function(e){return e.name==t})[0].no)})}function imageLoaded(t){var e=$("img")[t],s=e.width/e.naturalWidth;1==s&&(s=($(".tab-content")[0].clientWidth-12)/e.naturalWidth),$(".cover"+t).empty();for(var a=0;a<datSe.displayIndexDetails.length;a++){var n=datSe.displayIndexDetails[a],o=n.eqAnswerIpxywh.split("#");for(let e=0;e<o.length;e++){var l,r=o[e].split(",");6==r.length?parseInt(r[1])-1==t&&(l=$('<span class="minus" style="transform:translate('+(r[2]*s).toFixed(6)+"px,"+(r[3]*s).toFixed(6)+'px)">'+(n.eqScore==n.eqFullScore?n.eqFullScore.toString():0==n.eqScore?(n.eqScore-n.eqFullScore).toString():n.eqScore.toString()+"/"+n.eqFullScore.toString())+"</span>").appendTo(".cover"+t),n.eqScore==n.eqFullScore?l.addClass("full"):u(l)):0==t&&(l=$('<span class="sp" style="transform:translate('+(r[1]*s).toFixed(6)+"px,"+(r[2]*s).toFixed(6)+"px);width:"+(r[3]*s).toFixed(6)+"px;height:"+(r[4]*s).toFixed(6)+'px"></span>').appendTo(".cover"+t),0==e&&n.eqFullScore!=n.eqScore&&u($('<span class="minus" style="transform:translate('+(r[1]*s-20).toFixed(6)+"px,"+(r[2]*s-5).toFixed(6)+'px)">'+(n.eqScore-n.eqFullScore).toString()+"</span>").appendTo(".cover"+t)),n.eqCorrectAnswer.match("ABCD"[e])?l.addClass("cor"):n.eqAnswer.match("ABCD"[e])&&l.addClass("err"))}}}function getSe(e,t,s){!t&&!$(".nav-tabs>li")[2].classList[0]||!s&&e==curSe&&a||(a=1,curSe=e,fontSize=14,bd=o(bd='{"schoolId":19707,"meId":'+Se[me]+',"seId":'+e+',"studentId":"'+he[me]+'"}'),fetch("http://36.112.23.77/analysis/api/student/exam/getStuExamDetailInfo",{method:"POST",headers:{"Content-type":"application/json"},body:bd}).then(e=>e.json()).then(e=>{$("#singleDat").empty();var t=JSON.parse($e(e.data));console.log(t);for(let e=1;e<=t.pageCount;e++)$("#singleDat").append('<br><span class="cover'+(e-1)+'"></span><img src="http://36.112.23.77'+t.examUrl+"page_"+e+'.jpg" onload="imageLoaded('+(e-1)+')">'),$("img")[e-1].style.width="100%";t.pageCount||$("#singleDat").append("<p>...</p>"),datSe=t}))}var ge=[];function d(e,t=0){return t?"第"==e[0]?"":`data-toggle="tooltip" data-placement="left" title="${e.match("-")?e.slice(e.split("-")[0].length+1):""}"`:"第"==e[0]?e.slice(1,e.length-1)+":":e.split("-")[0]+"."}function getSec(n,e,t){!e&&!$(".nav-tabs>li")[3].classList[0]||!t&&n==curSe||(curSe=n,he[me]||(he[me]=prompt("数字校园号？")),Se[me]||(Se[me]=prompt("考试编号？（心意答点击考试标题后，切换考试的列表里可见）")),e=o(e='{"schoolId":19707,"seId":'+n+',"studentId":"'+he[me]+'"}'),fetch("http://36.112.23.77/analysis/api/student/exam/getStudentReportSEVO",{method:"POST",headers:{"Content-type":"application/json"},body:e}).then(e=>e.json()).then(e=>{e=JSON.parse($e(e.data));let t='<ul class="list-unstyled">';t=(t=(t+=`<li class="text-warning">**. <span class="sc avgSc" style="left:${e.singleExam.seAvgScore/e.singleExam.seFullScore*300}">.</span>`)+`<span class="sc mySc" style="left:${ge[n]/e.singleExam.seFullScore*300}">${ge[n]}</span>`)+`<span class="sc fullSc" style="left:${300-8*ge[n].toString().length}">${e.singleExam.seFullScore}</span></li>`;var s=e.examQuestions;let a=-8;for(let e=0;e<s.length;e++)9==e&&(a=0),idc=s[e].personScore==s[e].eqFullScore?"success fullScore":'danger"',t+=`<li class="text-${idc}" ${d(s[e].eqDisplayName,1)}>${d(s[e].eqDisplayName)}<span class="sc avgSc" style="left:${s[e].eqAvgScore/s[e].eqFullScore*300-a}">.</span>`,s[e].personScore!=s[e].eqFullScore&&(t+=`<span class="sc mySc" style="left:${s[e].personScore/s[e].eqFullScore*300-a}">${s[e].personScore}</span>`),t=(t+=`<span class="sc fullSc" style="left:${300-8*s[e].personScore.toString().length*(s[e].personScore!=s[e].eqFullScore)-a}">${s[e].eqFullScore}</span>`)+`<span class="sc" style="left:${350-8*s[e].personScore.toString().length*(s[e].personScore!=s[e].eqFullScore)-8*s[e].eqFullScore.toString().length-a}">${s[e].qstTagName}</span></li>`;$("#detailDat").html(t+"</ul>"),$("[data-toggle='tooltip']").tooltip()}))}var e,fontSize,c=[];function p(){for(let e=0;e<c.length;e++)clearInterval(c[e]);c=[]}function u(e){var t,s=0;c.push(setInterval(function(){t=100*Math.random()-50,$(e).css("transform",$(e).css("transform").split("rotate")[0]+"rotate("+(t-s)+"deg)"),s=t},600*Math.random()+300))}function ye(e){return 90<=e?"success":75<=e?"info":60<=e?"warning":"danger"}function resizeChart(){clearTimeout(e),e=setTimeout(function(){if(p(),"active"==$(".nav-tabs>li")[0].classList[0])console.log("reload chart"),cc.resize(),sc1.resize(),sc2.resize(),oc1.resize(),oc2.resize(),oc3.resize(),oc4.resize(),"0px"==$("#score1>div").css("width")?$("#resizeBtn").show():$("#resizeBtn").hide(300);else if("active"==$(".nav-tabs>li")[2].classList[0]){console.log("reload image");for(let e=0;e<datSe.pageCount;e++)imageLoaded(e);$(".minus").css("font-size",fontSize)}},300)}function ve(){return"15"}var m,h=document.createElement("a");function g(){h.href=m,h.setAttribute("download","data.txt"),h.click()}var be=[],xe=[];const Ce=["#5bc0de","#5a7ddd","#795add","#ba5add","#dd5abf","#dd5a7d","#dd795a","#ddba5a","#bfdd5a","#7ddd5a","#5add79","#5addba","#2aa9cf","#20809d","#cf512a","#9d3d20"];function S(re=0){console.log("Start processing No. "+me);var e=n[me],ie=(m=window.URL.createObjectURL(e),$("#message")[0]),de='<table class="table table-responsive" style="table-layout: fixed;"><tr><td>平均分</td><td>最高分</td><td>75%</td><td>中位数</td><td>25%</td><td>最低分</td></tr>',t=(ie.innerHTML=me+1+`/${ue} - ${e.name} - ${e.size} 字节 - ${e.type} - 正在读取...<br>>`,$("#upbtn").removeClass("btn-danger"),$("#upbtn").addClass("btn-info"),$("#upicon").removeClass("glyphicon-exclamation-sign"),$("#upicon").addClass("glyphicon-open"),new FileReader);t.onload=function(e){try{var t=$("#fileOutput")[0],s=$("#fileInfo")[0],a=$("#name")[0],n=JSON.parse(e.target.result),o="",l="",r=($("#single").empty(),$("#detail").empty(),JSON.parse($e(n.data).toString())),i=(Se[me]=r.meId.toString(),he[me]=r.studentId,s.innerHTML=`<h3>${r.multiExam.meName}</h3>`,[]),j=[],d=r.multiExamStudentScore,c=r.multiExamClassScores,p=d.singleExamStudentScores,u=r.singleExamClassScores,m=r.singleExamClassYsScores,h=r.multiExam.singleExams,S=(i=r.seIds).length;for(let t=0;t<S;t++)for(let e=0;e<S;e++)h[t].seId==i[e]&&(j[e]=h[t].seCourseName);var f={};for(let e=0;e<S;e++)f[i[e]]=j[e];f[0]="总分";for(let e=0;e<m.length;e++)f[m[e].seId+"Ys"]=f[m[e].seId]+" "+m[e].ysClassId;var g={},W={},J={};for(let t=0;t<S;t++)for(let e=0;e<S;e++)p[e]&&p[e].seId==i[t]&&(J[t]=!0,g[e]=t);for(let e=1;e<S;e++)J[e]||(i[e]=-1);for(let e=0;e<S;e++)W[g[e]]=e;var y,b={},x={},v={},C={},I={},w={},O={},A={},q={},E={},z={},F={},H={},T={};for(let e=0;e<S;e++)p[e]&&(y=p[e].seId,ge[y]=p[e].essScore,b[y]=p[e].essScore,x[y]=u[e].secsAvgScore,v[y]=u[e].secsMinScore,C[y]=u[e].secsQuarterScore,I[y]=u[e].secsHalfScore,w[y]=u[e].secs3quatrerScore,O[y]=u[e].secsMaxScore,A[y]=h[g[e]].seFullScore,q[y]=p[e].essClassOrder,z[y]=p[e].essGradeOrder,F[y]=ce(1-p[e].essClassOrder/u[e].secsStudentCount,3),T[y]=ce(1-p[e].essGradeOrder/h[g[e]].seStudentCount,3));F[0]=ce(1-d.messClassOrder/c[0].mecsStudentCount,3),T[0]=ce(1-d.messGradeOrder/r.multiExamSchoolScore.mecsStudentCount,3),q[0]=d.messClassOrder,z[0]=d.messGradeOrder;for(let t=0;t<m.length;t++)for(let e=0;e<S;e++)p[e]&&m[t].seId==p[e].seId&&(H[m[t].seId+"Ys"]=ce(1-p[e].essYsClassOrder/m[t].secsStudentCount,3),E[m[t].seId+"Ys"]=p[e].essYsClassOrder);var D=ve();for(let e=0;e<S;e++)if(p[M=W[e]]){$("#single").append(`<button class="btn btn-${ye(ce(100*T[i[e]],1))} btn-how ${i[e]}" onclick="getSe(${i[e]});$('.btn-how').removeClass('active');$(this).addClass('active')">${f[p[M].seId]}</button>`),$("#detail").append(`<button class="btn btn-${ye(ce(100*T[i[e]],1))} btn-how ${i[e]}" onclick="getSec(${i[e]});$('.btn-how').removeClass('active');$(this).addClass('active')">${f[p[M].seId]}</button>`),o+=`<h3 class='bg-${ye(ce(100*T[i[e]],1))} text-${ye(ce(100*T[i[e]],1))}'>${f[p[M].seId]} <small>${p[M].essScore}</small></h3><h4>${r.examStudents[0].classId} 班内 <small>${p[M].essClassOrder} / ${u[M].secsStudentCount}</small></h4>${de}<tr><td>${u[M].secsAvgScore}</td><td>${u[M].secsMaxScore}</td><td>${u[M].secs3quatrerScore}</td><td>${u[M].secsHalfScore}</td><td>${u[M].secsQuarterScore}</td><td>${u[M].secsMinScore}</td></tr></table>`,l=`，${r.examStudents[0].classId} 班 ${u[M].secsClassOrder} / `+D;for(let e=0;e<m.length;e++)m[e].seId==p[M].seId&&(o+=`<h4>${m[e].ysClassId} 层内 <small>${p[M].essYsClassOrder} / ${m[e].secsStudentCount}</small></h4>${de}<tr><td>${m[e].secsAvgScore}</td><td>${m[e].secsMaxScore}</td><td>${m[e].secs3quatrerScore}</td><td>${m[e].secsHalfScore}</td><td>${m[e].secsQuarterScore}</td><td>${m[e].secsMinScore}</td></tr></table>`,l+=`，${m[e].ysClassId} 层 ${m[e].secsClassOrder} / ?`);o+=`<h4>年级 <small>${p[M].essGradeOrder} / ${h[g[M]].seStudentCount+l}</small></h4>${de}<tr><td>${h[g[M]].seAvgScore}</td><td>${h[g[M]].seMaxScore}</td><td>${h[g[M]].se3QuarterScore}</td><td>${h[g[M]].seHalfScore}</td><td>${h[g[M]].seQuarterScore}</td><td>${h[g[M]].seMinScore}</td></tr></table>`}getSe(curSe=curSe||i[0],0,1),getSec(curSe,0,1),$("#single>button."+curSe).addClass("active"),$("#detail>button."+curSe).addClass("active")}catch(e){return console.log(e),fe(),ie.innerHTML+="读取失败！",$("#upbtn").removeClass("btn-info"),$("#upbtn").addClass("btn-danger"),$("#upicon").removeClass("glyphicon-open"),void $("#upicon").addClass("glyphicon-exclamation-sign")}$("#single").append(`<button class="btn btn-default btn-how" onclick="fontSize+=3;$('.minus').css('font-size',fontSize+'px');for (let i=0;i<datSe.pageCount;i++)$('img')[i].style.width=parseInt($('img')[i].style.width)+20+'%';resizeChart()"><span class="glyphicon glyphicon-zoom-in"></span></button>`),$("#single").append(`<button class="btn btn-default btn-how" onclick="fontSize-=3;$('.minus').css('font-size',fontSize+'px');for (let i=0;i<datSe.pageCount;i++)$('img')[i].style.width=parseInt($('img')[i].style.width)-20+'%';resizeChart()"><span class="glyphicon glyphicon-zoom-out"></span></button>`),$("#single").append('<span id="singleDat" style="word-wrap: break-word; white-space: normal"></span><br><br><br>'),$("#detail").append(`<button class="btn btn-default btn-how" onclick="$('.fullScore').toggle(500)"><span class="glyphicon glyphicon-eye-close"></span></button>`),$("#detail").append('<span id="detailDat" style="word-wrap: break-word; white-space: normal"></span><br><br><br>'),re&&(e=JSON.stringify({content:pe+" fetched "+he[me]+" ("+parseInt(r.examStudents[0].classId)+" "+d.studentName+") "+Se[me]+' ("'+r.multiExam.meName+'")'}),fetch("/score/log",{method:"POST",headers:{"Content-type":"application/json"},body:e})),ie.innerHTML+="读取成功！<br>",a.innerHTML="姓名："+d.studentName,s.innerHTML=`<h3>${r.multiExam.meName} <small>${r.examStudents[0].classId}班 ${d.studentName}</small></h3>`,t.innerHTML=1<S?`<h3>总分 <small>${d.messScore}</small></h3><h4>${r.examStudents[0].classId} 班内 <small>${d.messClassOrder} / ${c[0].mecsStudentCount}</small></h4>${de}<tr><td>${c[0].mecsAvgScore}</td><td>${c[0].mecsMaxScore}</td><td>${c[0].mecs3quatrerScore}</td><td>${c[0].mecsHalfScore}</td><td>${c[0].mecsQuarterScore}</td><td>${c[0].mecsMinScore}</td></tr></table><h4>年级 <small>${d.messGradeOrder} / ${r.multiExamSchoolScore.mecsStudentCount}，${r.examStudents[0].classId}班 ${c[0].mecsClassOrder} / ${D}</small></h4>${de}<tr><td>${r.multiExam.meAvgScore}</td><td>${r.multiExam.meMaxScore}</td><td>${r.multiExam.me3QuatrerScore}</td><td>${r.multiExam.meHalfScore}</td><td>${r.multiExam.meQuarterScore}</td><td>${r.multiExam.meMinScore}</td></tr></table>`+o:o,$("#fileOutput table").css("display","inline-table"),$("#fileOutput table").css("margin-bottom","0px"),$(".chart").show(),ue<=1?$("#comp").hide():($("#comp").show(),cc.resize()),cc=echarts.init($("#comp")[0]),sc1=echarts.init($("#score1")[0]),sc2=echarts.init($("#score2")[0]),oc1=echarts.init($("#order1")[0]),oc2=echarts.init($("#order2")[0]),oc3=echarts.init($("#order3")[0]),oc4=echarts.init($("#order4")[0]);var M,k,L=[],B=[],Q={},G=[],P=[],R=[],Y=[],U=[],V=[],_=[],K=[],X=[],Z=[],ee=[],te=[],se=[],ae=[];for(let e=i[S]=0;e<S;e++)-1!=(M=i[e])&&(Q[f[M]]=b[M],"总分"!=f[M].substr(0,2))&&(L.push(f[M].substr(0,2)),B.push(b[M]),G.push(x[M]),P.push(A[M]),se.push({value:[v[M],C[M],I[M],w[M],O[M]]}),R.push(ce(b[M]/A[M]*100,1)),Y.push(ce(x[M]/A[M]*100,1)),ae.push({value:[ce(v[M]/A[M]*100,1),ce(C[M]/A[M]*100,1),ce(I[M]/A[M]*100,1),ce(w[M]/A[M]*100,1),ce(O[M]/A[M]*100,1)]}));for(let e=0;e<=S;e++)-1==(M=i[e])||"总分"==f[M].substr(0,2)&&1==S||(U.push(f[M].substr(0,2)),V.push(q[M]),_.push(z[M]),K.push(ce(100*F[M],1)),X.push(ce(100*T[M],1)));for(k in E)Z.push(f[k]),ee.push(E[k]),te.push(ce(100*H[k],1));be[me]=Q,xe[me]=d.studentName;var n={textStyle:{fontFamily:"Noto Serif SC"},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{saveAsImage:{show:!0},dataView:{show:!0,readOnly:!1}},orient:"vertical"},emphasis:{focus:"series"},calculable:!0},e={...n},a={...n},s={...n},t={...n},c={...n},d={...n},n={...n},N=[],ne=[],oe=[];for(let e=0;e<ue;e++)for(var le in be[e])-1==N.indexOf(le)&&N.push(le);for(let t=0;t<ue;t++)if(ne.push([]),be[t]){for(let e=0;e<N.length;e++)ne[t].push(be[t][N[e]]);oe.push({name:xe[t],type:"line",data:ne[t],color:Ce[t]})}e.title={text:"比一比",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},e.legend={data:xe},e.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:N,name:"科目",position:"left"}],e.yAxis=[{type:"value",name:"分数",position:"left"}],e.series=oe,a.title={text:"分数",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},a.legend={data:["四分位","满分","平均分","我的分数"]},a.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:L,name:"科目",position:"left"}],a.yAxis=[{type:"value",name:"分数",position:"left"}],a.series=[{name:"四分位",type:"boxplot",data:se,color:"#5bc0de",itemStyle:{color:"transparent"}},{name:"满分",type:"scatter",data:P,color:"#b6b6b6"},{name:"平均分",type:"line",data:G,color:"#337ab7"},{name:"我的分数",type:"line",data:B,color:"#e2041b"}],s.title={text:"得分率",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},s.legend={data:["四分位","平均得分率","我的得分率"]},s.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:L,name:"科目",position:"left"}],s.yAxis=[{type:"value",name:"得分率(%)",position:"left"}],s.series=[{name:"四分位",type:"boxplot",data:ae,color:"#5bc0de",itemStyle:{color:"transparent"}},{name:"平均得分率",type:"line",data:Y,color:"#337ab7"},{name:"我的得分率",type:"line",data:R,color:"#d9534f"}],t.title={text:"行政排名位次",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},t.legend={data:["班级排名","年级排名"]},t.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:U,name:"科目",position:"left"}],t.yAxis=[{type:"value",name:"排名",position:"left"}],t.series=[{name:"班级排名",type:"bar",data:V,color:"#5bc0de"},{name:"年级排名",type:"bar",data:_,color:"#337ab7"}],c.title={text:"行政排名比例",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},c.legend={data:["班级排名(%)","年级排名(%)"]},c.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:U,name:"科目",position:"left"}],c.yAxis=[{type:"value",name:"排名(%)",position:"left",max:100}],c.series=[{name:"班级排名(%)",type:"bar",data:K,color:"#5bc0de"},{name:"年级排名(%)",type:"bar",data:X,color:"#337ab7"}],d.title={text:"分班排名位次",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},d.legend={data:["分班排名"]},d.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:Z,name:"科目",position:"left"}],d.yAxis=[{type:"value",name:"排名",position:"left"}],d.series=[{name:"分班排名",type:"bar",data:ee,color:"#5cb85c"}],n.title={text:"分班排名比例",textStyle:{fontSize:14,fontStyle:"normal",fontWeight:"bold"}},n.legend={data:["分班排名(%)"]},n.xAxis=[{axisTick:{alignWithLabel:!0},type:"category",data:Z,name:"科目",position:"left"}],n.yAxis=[{type:"value",name:"排名(%)",position:"left",max:100}],n.series=[{name:"分班排名(%)",type:"bar",data:te,color:"#5cb85c"}],cc.setOption(e),sc1.setOption(a),sc2.setOption(s),oc1.setOption(t),oc2.setOption(c),oc3.setOption(d),oc4.setOption(n),window.onresize=resizeChart},t.readAsText(e)}$().ready(function(){$(".chart").hide(),$(function(){$("[data-toggle='tooltip']").tooltip()}),$("#Input").keydown(function(e){13==e.keyCode&&$("#fetchBtn")[0].click()})});